# PRD: Column Merging

## Overview
Users should be able to merge two or more columns into a single derived column (e.g., `first_name` + `last_name` â†’ `full_name`) to support more meaningful querying.

## Goals
- Simplify queries and prompt engineering
- Allow creation of derived fields without modifying raw data

## Requirements
- UI for selecting multiple columns and defining a new merged column name
- Preview of merged results (first 5 rows)
- Store merged column config as metadata
- Use PostgreSQL `VIEW` or computed column to represent the result
- Merged columns should be included in LLM prompt context

## Technical Considerations
- Avoid overwriting raw data
- Store mapping in a `column_merges` table: `{ user_id, dataset_id, merge_name, column_list, delimiter }`
- Update prompt injection engine to include merged columns
